# COUNTYWIDE MARKET ANALYSIS {.unnumbered}

# Market comparison {#part-2a-3}

This section will make comparisons between recent multifamily developments and existing rental supply in the county. For the purposes of this section, "recent" developers are those built in the past five years, are under construction, or are proposed.



## Price

Compare average asking rent prices (also by bedroom)



```{=html}
<div id="htmlwidget-63f1e74c7bb4d1b57e91" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-63f1e74c7bb4d1b57e91">{"x":{"data":[{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[1226,1237,1249,1240,1256,1274,1269,1263,1294,1303,1292,1278,1296,1344,1356,1362,1394,1453,1469,1432,1452,1460],"text":["period: 2017 Q1<br />rent_adj: 1226<br />market: past<br />market: past","period: 2017 Q2<br />rent_adj: 1237<br />market: past<br />market: past","period: 2017 Q3<br />rent_adj: 1249<br />market: past<br />market: past","period: 2017 Q4<br />rent_adj: 1240<br />market: past<br />market: past","period: 2018 Q1<br />rent_adj: 1256<br />market: past<br />market: past","period: 2018 Q2<br />rent_adj: 1274<br />market: past<br />market: past","period: 2018 Q3<br />rent_adj: 1269<br />market: past<br />market: past","period: 2018 Q4<br />rent_adj: 1263<br />market: past<br />market: past","period: 2019 Q1<br />rent_adj: 1294<br />market: past<br />market: past","period: 2019 Q2<br />rent_adj: 1303<br />market: past<br />market: past","period: 2019 Q3<br />rent_adj: 1292<br />market: past<br />market: past","period: 2019 Q4<br />rent_adj: 1278<br />market: past<br />market: past","period: 2020 Q1<br />rent_adj: 1296<br />market: past<br />market: past","period: 2020 Q2<br />rent_adj: 1344<br />market: past<br />market: past","period: 2020 Q3<br />rent_adj: 1356<br />market: past<br />market: past","period: 2020 Q4<br />rent_adj: 1362<br />market: past<br />market: past","period: 2021 Q1<br />rent_adj: 1394<br />market: past<br />market: past","period: 2021 Q2<br />rent_adj: 1453<br />market: past<br />market: past","period: 2021 Q3<br />rent_adj: 1469<br />market: past<br />market: past","period: 2021 Q4<br />rent_adj: 1432<br />market: past<br />market: past","period: 2022 Q1<br />rent_adj: 1452<br />market: past<br />market: past","period: 2022 Q2<br />rent_adj: 1460<br />market: past<br />market: past"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)","dash":"solid"},"hoveron":"points","name":"past","legendgroup":"past","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"frame":null,"hoverlabel":{"align":"left"}},{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[1634,1647,1653,1653,1652,1656,1664,1663,1665,1668,1671,1667,1671,1696,1683,1687,1689,1738,1757,1755,1755,1743],"text":["period: 2017 Q1<br />rent_adj: 1634<br />market: recent<br />market: recent","period: 2017 Q2<br />rent_adj: 1647<br />market: recent<br />market: recent","period: 2017 Q3<br />rent_adj: 1653<br />market: recent<br />market: recent","period: 2017 Q4<br />rent_adj: 1653<br />market: recent<br />market: recent","period: 2018 Q1<br />rent_adj: 1652<br />market: recent<br />market: recent","period: 2018 Q2<br />rent_adj: 1656<br />market: recent<br />market: recent","period: 2018 Q3<br />rent_adj: 1664<br />market: recent<br />market: recent","period: 2018 Q4<br />rent_adj: 1663<br />market: recent<br />market: recent","period: 2019 Q1<br />rent_adj: 1665<br />market: recent<br />market: recent","period: 2019 Q2<br />rent_adj: 1668<br />market: recent<br />market: recent","period: 2019 Q3<br />rent_adj: 1671<br />market: recent<br />market: recent","period: 2019 Q4<br />rent_adj: 1667<br />market: recent<br />market: recent","period: 2020 Q1<br />rent_adj: 1671<br />market: recent<br />market: recent","period: 2020 Q2<br />rent_adj: 1696<br />market: recent<br />market: recent","period: 2020 Q3<br />rent_adj: 1683<br />market: recent<br />market: recent","period: 2020 Q4<br />rent_adj: 1687<br />market: recent<br />market: recent","period: 2021 Q1<br />rent_adj: 1689<br />market: recent<br />market: recent","period: 2021 Q2<br />rent_adj: 1738<br />market: recent<br />market: recent","period: 2021 Q3<br />rent_adj: 1757<br />market: recent<br />market: recent","period: 2021 Q4<br />rent_adj: 1755<br />market: recent<br />market: recent","period: 2022 Q1<br />rent_adj: 1755<br />market: recent<br />market: recent","period: 2022 Q2<br />rent_adj: 1743<br />market: recent<br />market: recent"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)","dash":"solid"},"hoveron":"points","name":"recent","legendgroup":"recent","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"frame":null,"hoverlabel":{"align":"left"}}],"layout":{"margin":{"t":25.2984640929846,"r":26.5670402656704,"b":39.5184723951847,"l":63.4288086342881},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2016.7375,2022.5125],"tickmode":"array","ticktext":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"tickvals":[2017,2018,2019,2020,2021,2022],"categoryorder":"array","categoryarray":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Period","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1200,1800],"tickmode":"array","ticktext":["1,200","1,300","1,400","1,500","1,600","1,700","1,800"],"tickvals":[1200,1300,1400,1500,1600,1700,1800],"categoryorder":"array","categoryarray":["1,200","1,300","1,400","1,500","1,600","1,700","1,800"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":{"text":"Rent adj","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(255,255,255,1)","borderwidth":1.88976377952756,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"title":{"text":"Market","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"modeBarButtonsToRemove":["zoom2d","pan2d","zoomIn2d","zoomOut2d","autoScale2d","resetScale2d","hoverClosestCartesian","hoverCompareCartesian","sendDataToCloud","toggleHover","resetViews","toggleSpikelines","resetViewMapbox","toggleSpikelines","resetViewMapbox","lasso2d","select2d"],"displaylogo":false},"source":"A","attrs":{"18b033c91c0c":{"x":{},"y":{},"colour":{},"type":"scatter"},"18b017163fb":{"x":{},"y":{},"colour":{}}},"cur_data":"18b033c91c0c","visdat":{"18b033c91c0c":["function (y) ","x"],"18b017163fb":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
```


```{=html}
<div id="htmlwidget-f0186c2a7387861e2925" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-f0186c2a7387861e2925">{"x":{"data":[{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[1079,1085,1084,1086,1105,1121,1110,1117,1143,1141,1125,1119,1129,1166,1175,1173,1211,1260,1290,1262,1278,1288],"text":["period: 2017 Q1<br />rent_adj: 1079<br />market: past<br />market: past","period: 2017 Q2<br />rent_adj: 1085<br />market: past<br />market: past","period: 2017 Q3<br />rent_adj: 1084<br />market: past<br />market: past","period: 2017 Q4<br />rent_adj: 1086<br />market: past<br />market: past","period: 2018 Q1<br />rent_adj: 1105<br />market: past<br />market: past","period: 2018 Q2<br />rent_adj: 1121<br />market: past<br />market: past","period: 2018 Q3<br />rent_adj: 1110<br />market: past<br />market: past","period: 2018 Q4<br />rent_adj: 1117<br />market: past<br />market: past","period: 2019 Q1<br />rent_adj: 1143<br />market: past<br />market: past","period: 2019 Q2<br />rent_adj: 1141<br />market: past<br />market: past","period: 2019 Q3<br />rent_adj: 1125<br />market: past<br />market: past","period: 2019 Q4<br />rent_adj: 1119<br />market: past<br />market: past","period: 2020 Q1<br />rent_adj: 1129<br />market: past<br />market: past","period: 2020 Q2<br />rent_adj: 1166<br />market: past<br />market: past","period: 2020 Q3<br />rent_adj: 1175<br />market: past<br />market: past","period: 2020 Q4<br />rent_adj: 1173<br />market: past<br />market: past","period: 2021 Q1<br />rent_adj: 1211<br />market: past<br />market: past","period: 2021 Q2<br />rent_adj: 1260<br />market: past<br />market: past","period: 2021 Q3<br />rent_adj: 1290<br />market: past<br />market: past","period: 2021 Q4<br />rent_adj: 1262<br />market: past<br />market: past","period: 2022 Q1<br />rent_adj: 1278<br />market: past<br />market: past","period: 2022 Q2<br />rent_adj: 1288<br />market: past<br />market: past"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)","dash":"solid"},"hoveron":"points","name":"past","legendgroup":"past","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"frame":null,"hoverlabel":{"align":"left"}},{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[1222,1235,1253,1240,1259,1273,1269,1260,1289,1296,1291,1276,1296,1339,1353,1363,1394,1461,1476,1433,1465,1467],"text":["period: 2017 Q1<br />rent_adj: 1222<br />market: past<br />market: past","period: 2017 Q2<br />rent_adj: 1235<br />market: past<br />market: past","period: 2017 Q3<br />rent_adj: 1253<br />market: past<br />market: past","period: 2017 Q4<br />rent_adj: 1240<br />market: past<br />market: past","period: 2018 Q1<br />rent_adj: 1259<br />market: past<br />market: past","period: 2018 Q2<br />rent_adj: 1273<br />market: past<br />market: past","period: 2018 Q3<br />rent_adj: 1269<br />market: past<br />market: past","period: 2018 Q4<br />rent_adj: 1260<br />market: past<br />market: past","period: 2019 Q1<br />rent_adj: 1289<br />market: past<br />market: past","period: 2019 Q2<br />rent_adj: 1296<br />market: past<br />market: past","period: 2019 Q3<br />rent_adj: 1291<br />market: past<br />market: past","period: 2019 Q4<br />rent_adj: 1276<br />market: past<br />market: past","period: 2020 Q1<br />rent_adj: 1296<br />market: past<br />market: past","period: 2020 Q2<br />rent_adj: 1339<br />market: past<br />market: past","period: 2020 Q3<br />rent_adj: 1353<br />market: past<br />market: past","period: 2020 Q4<br />rent_adj: 1363<br />market: past<br />market: past","period: 2021 Q1<br />rent_adj: 1394<br />market: past<br />market: past","period: 2021 Q2<br />rent_adj: 1461<br />market: past<br />market: past","period: 2021 Q3<br />rent_adj: 1476<br />market: past<br />market: past","period: 2021 Q4<br />rent_adj: 1433<br />market: past<br />market: past","period: 2022 Q1<br />rent_adj: 1465<br />market: past<br />market: past","period: 2022 Q2<br />rent_adj: 1467<br />market: past<br />market: past"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)","dash":"solid"},"hoveron":"points","name":"past","legendgroup":"past","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"frame":null,"hoverlabel":{"align":"left"}},{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[1436,1443,1459,1447,1447,1482,1477,1462,1504,1535,1514,1489,1510,1592,1605,1606,1638,1689,1693,1660,1647,1669],"text":["period: 2017 Q1<br />rent_adj: 1436<br />market: past<br />market: past","period: 2017 Q2<br />rent_adj: 1443<br />market: past<br />market: past","period: 2017 Q3<br />rent_adj: 1459<br />market: past<br />market: past","period: 2017 Q4<br />rent_adj: 1447<br />market: past<br />market: past","period: 2018 Q1<br />rent_adj: 1447<br />market: past<br />market: past","period: 2018 Q2<br />rent_adj: 1482<br />market: past<br />market: past","period: 2018 Q3<br />rent_adj: 1477<br />market: past<br />market: past","period: 2018 Q4<br />rent_adj: 1462<br />market: past<br />market: past","period: 2019 Q1<br />rent_adj: 1504<br />market: past<br />market: past","period: 2019 Q2<br />rent_adj: 1535<br />market: past<br />market: past","period: 2019 Q3<br />rent_adj: 1514<br />market: past<br />market: past","period: 2019 Q4<br />rent_adj: 1489<br />market: past<br />market: past","period: 2020 Q1<br />rent_adj: 1510<br />market: past<br />market: past","period: 2020 Q2<br />rent_adj: 1592<br />market: past<br />market: past","period: 2020 Q3<br />rent_adj: 1605<br />market: past<br />market: past","period: 2020 Q4<br />rent_adj: 1606<br />market: past<br />market: past","period: 2021 Q1<br />rent_adj: 1638<br />market: past<br />market: past","period: 2021 Q2<br />rent_adj: 1689<br />market: past<br />market: past","period: 2021 Q3<br />rent_adj: 1693<br />market: past<br />market: past","period: 2021 Q4<br />rent_adj: 1660<br />market: past<br />market: past","period: 2022 Q1<br />rent_adj: 1647<br />market: past<br />market: past","period: 2022 Q2<br />rent_adj: 1669<br />market: past<br />market: past"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)","dash":"solid"},"hoveron":"points","name":"past","legendgroup":"past","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"frame":null,"hoverlabel":{"align":"left"}},{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[1380,1392,1398,1399,1399,1405,1414,1412,1408,1420,1424,1419,1419,1438,1430,1441,1448,1466,1467,1489,1477,1492],"text":["period: 2017 Q1<br />rent_adj: 1380<br />market: recent<br />market: recent","period: 2017 Q2<br />rent_adj: 1392<br />market: recent<br />market: recent","period: 2017 Q3<br />rent_adj: 1398<br />market: recent<br />market: recent","period: 2017 Q4<br />rent_adj: 1399<br />market: recent<br />market: recent","period: 2018 Q1<br />rent_adj: 1399<br />market: recent<br />market: recent","period: 2018 Q2<br />rent_adj: 1405<br />market: recent<br />market: recent","period: 2018 Q3<br />rent_adj: 1414<br />market: recent<br />market: recent","period: 2018 Q4<br />rent_adj: 1412<br />market: recent<br />market: recent","period: 2019 Q1<br />rent_adj: 1408<br />market: recent<br />market: recent","period: 2019 Q2<br />rent_adj: 1420<br />market: recent<br />market: recent","period: 2019 Q3<br />rent_adj: 1424<br />market: recent<br />market: recent","period: 2019 Q4<br />rent_adj: 1419<br />market: recent<br />market: recent","period: 2020 Q1<br />rent_adj: 1419<br />market: recent<br />market: recent","period: 2020 Q2<br />rent_adj: 1438<br />market: recent<br />market: recent","period: 2020 Q3<br />rent_adj: 1430<br />market: recent<br />market: recent","period: 2020 Q4<br />rent_adj: 1441<br />market: recent<br />market: recent","period: 2021 Q1<br />rent_adj: 1448<br />market: recent<br />market: recent","period: 2021 Q2<br />rent_adj: 1466<br />market: recent<br />market: recent","period: 2021 Q3<br />rent_adj: 1467<br />market: recent<br />market: recent","period: 2021 Q4<br />rent_adj: 1489<br />market: recent<br />market: recent","period: 2022 Q1<br />rent_adj: 1477<br />market: recent<br />market: recent","period: 2022 Q2<br />rent_adj: 1492<br />market: recent<br />market: recent"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)","dash":"solid"},"hoveron":"points","name":"recent","legendgroup":"recent","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"frame":null,"hoverlabel":{"align":"left"}},{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[1698,1712,1719,1720,1720,1724,1733,1732,1738,1736,1740,1738,1745,1769,1751,1751,1749,1788,1819,1784,1807,1809],"text":["period: 2017 Q1<br />rent_adj: 1698<br />market: recent<br />market: recent","period: 2017 Q2<br />rent_adj: 1712<br />market: recent<br />market: recent","period: 2017 Q3<br />rent_adj: 1719<br />market: recent<br />market: recent","period: 2017 Q4<br />rent_adj: 1720<br />market: recent<br />market: recent","period: 2018 Q1<br />rent_adj: 1720<br />market: recent<br />market: recent","period: 2018 Q2<br />rent_adj: 1724<br />market: recent<br />market: recent","period: 2018 Q3<br />rent_adj: 1733<br />market: recent<br />market: recent","period: 2018 Q4<br />rent_adj: 1732<br />market: recent<br />market: recent","period: 2019 Q1<br />rent_adj: 1738<br />market: recent<br />market: recent","period: 2019 Q2<br />rent_adj: 1736<br />market: recent<br />market: recent","period: 2019 Q3<br />rent_adj: 1740<br />market: recent<br />market: recent","period: 2019 Q4<br />rent_adj: 1738<br />market: recent<br />market: recent","period: 2020 Q1<br />rent_adj: 1745<br />market: recent<br />market: recent","period: 2020 Q2<br />rent_adj: 1769<br />market: recent<br />market: recent","period: 2020 Q3<br />rent_adj: 1751<br />market: recent<br />market: recent","period: 2020 Q4<br />rent_adj: 1751<br />market: recent<br />market: recent","period: 2021 Q1<br />rent_adj: 1749<br />market: recent<br />market: recent","period: 2021 Q2<br />rent_adj: 1788<br />market: recent<br />market: recent","period: 2021 Q3<br />rent_adj: 1819<br />market: recent<br />market: recent","period: 2021 Q4<br />rent_adj: 1784<br />market: recent<br />market: recent","period: 2022 Q1<br />rent_adj: 1807<br />market: recent<br />market: recent","period: 2022 Q2<br />rent_adj: 1809<br />market: recent<br />market: recent"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)","dash":"solid"},"hoveron":"points","name":"recent","legendgroup":"recent","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"frame":null,"hoverlabel":{"align":"left"}},{"x":[2017,2017.25,2017.5,2017.75,2018,2018.25,2018.5,2018.75,2019,2019.25,2019.5,2019.75,2020,2020.25,2020.5,2020.75,2021,2021.25,2021.5,2021.75,2022,2022.25],"y":[2108,2120,2123,2118,2112,2111,2115,2114,2120,2113,2115,2109,2113,2160,2149,2143,2152,2307,2321,2337,2305,2221],"text":["period: 2017 Q1<br />rent_adj: 2108<br />market: recent<br />market: recent","period: 2017 Q2<br />rent_adj: 2120<br />market: recent<br />market: recent","period: 2017 Q3<br />rent_adj: 2123<br />market: recent<br />market: recent","period: 2017 Q4<br />rent_adj: 2118<br />market: recent<br />market: recent","period: 2018 Q1<br />rent_adj: 2112<br />market: recent<br />market: recent","period: 2018 Q2<br />rent_adj: 2111<br />market: recent<br />market: recent","period: 2018 Q3<br />rent_adj: 2115<br />market: recent<br />market: recent","period: 2018 Q4<br />rent_adj: 2114<br />market: recent<br />market: recent","period: 2019 Q1<br />rent_adj: 2120<br />market: recent<br />market: recent","period: 2019 Q2<br />rent_adj: 2113<br />market: recent<br />market: recent","period: 2019 Q3<br />rent_adj: 2115<br />market: recent<br />market: recent","period: 2019 Q4<br />rent_adj: 2109<br />market: recent<br />market: recent","period: 2020 Q1<br />rent_adj: 2113<br />market: recent<br />market: recent","period: 2020 Q2<br />rent_adj: 2160<br />market: recent<br />market: recent","period: 2020 Q3<br />rent_adj: 2149<br />market: recent<br />market: recent","period: 2020 Q4<br />rent_adj: 2143<br />market: recent<br />market: recent","period: 2021 Q1<br />rent_adj: 2152<br />market: recent<br />market: recent","period: 2021 Q2<br />rent_adj: 2307<br />market: recent<br />market: recent","period: 2021 Q3<br />rent_adj: 2321<br />market: recent<br />market: recent","period: 2021 Q4<br />rent_adj: 2337<br />market: recent<br />market: recent","period: 2022 Q1<br />rent_adj: 2305<br />market: recent<br />market: recent","period: 2022 Q2<br />rent_adj: 2221<br />market: recent<br />market: recent"],"type":"scatter","mode":"lines+markers","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)","dash":"solid"},"hoveron":"points","name":"recent","legendgroup":"recent","showlegend":false,"xaxis":"x3","yaxis":"y","hoverinfo":"text","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","opacity":1,"size":5.66929133858268,"symbol":"circle","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"frame":null,"hoverlabel":{"align":"left"}}],"layout":{"margin":{"t":38.5819842258198,"r":26.5670402656704,"b":39.5184723951847,"l":63.4288086342881},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xaxis":{"domain":[0,0.306547619047619],"automargin":true,"type":"linear","autorange":false,"range":[2016.7375,2022.5125],"tickmode":"array","ticktext":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"tickvals":[2017,2018,2019,2020,2021,2022],"categoryorder":"array","categoryarray":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"annotations":[{"text":"Period","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-29.5808013183644},{"text":"Rent adj","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-52.8019925280199},{"text":"1 bed","x":0.15327380952381,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2 beds","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"3 beds","x":0.84672619047619,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1000,2500],"tickmode":"array","ticktext":["1,000","1,500","2,000","2,500"],"tickvals":[1000,1500,2000,2500],"categoryorder":"array","categoryarray":["1,000","1,500","2,000","2,500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.306547619047619,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(255,255,255,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.306547619047619,"y0":0,"y1":19.9252801992528,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.360119047619048,"x1":0.639880952380952,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(255,255,255,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.360119047619048,"x1":0.639880952380952,"y0":0,"y1":19.9252801992528,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.693452380952381,"x1":1,"y0":0,"y1":1},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(255,255,255,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.693452380952381,"x1":1,"y0":0,"y1":19.9252801992528,"yanchor":1,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[2016.7375,2022.5125],"tickmode":"array","ticktext":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"tickvals":[2017,2018,2019,2020,2021,2022],"categoryorder":"array","categoryarray":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"domain":[0.360119047619048,0.639880952380952],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[2016.7375,2022.5125],"tickmode":"array","ticktext":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"tickvals":[2017,2018,2019,2020,2021,2022],"categoryorder":"array","categoryarray":["2017-1","2018-1","2019-1","2020-1","2021-1","2022-1"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"domain":[0.693452380952381,1],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(255,255,255,1)","borderwidth":1.88976377952756,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"title":{"text":"Market","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"modeBarButtonsToRemove":["zoom2d","pan2d","zoomIn2d","zoomOut2d","autoScale2d","resetScale2d","hoverClosestCartesian","hoverCompareCartesian","sendDataToCloud","toggleHover","resetViews","toggleSpikelines","resetViewMapbox","toggleSpikelines","resetViewMapbox","lasso2d","select2d"],"displaylogo":false},"source":"A","attrs":{"18b06f5678fd":{"x":{},"y":{},"colour":{},"type":"scatter"},"18b0244371eb":{"x":{},"y":{},"colour":{}}},"cur_data":"18b06f5678fd","visdat":{"18b06f5678fd":["function (y) ","x"],"18b0244371eb":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
```

## Unit mix

Compare physical characteristics of units


```{=html}
<div id="htmlwidget-c65683377b58a6493686" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c65683377b58a6493686">{"x":{"data":[{"orientation":"v","width":[0.75,0.75],"base":[0.149425287356322,0.857142857142857],"x":[1,2],"y":[0.850574712643678,0.142857142857143],"text":["market: Past<br />percent: 0.85057471<br />style: Garden<br />style: Garden","market: Recent<br />percent: 0.14285714<br />style: Garden<br />style: Garden"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"name":"Garden","legendgroup":"Garden","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[0.75,0.75],"base":[0.0689655172413793,0.5],"x":[1,2],"y":[0.0804597701149425,0.357142857142857],"text":["market: Past<br />percent: 0.08045977<br />style: Low-Rise<br />style: Low-Rise","market: Recent<br />percent: 0.35714286<br />style: Low-Rise<br />style: Low-Rise"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"name":"Low-Rise","legendgroup":"Low-Rise","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[0.75,0.75],"base":[0.0114942528735632,0.0357142857142857],"x":[1,2],"y":[0.0574712643678161,0.464285714285714],"text":["market: Past<br />percent: 0.05747126<br />style: Mid-Rise<br />style: Mid-Rise","market: Recent<br />percent: 0.46428571<br />style: Mid-Rise<br />style: Mid-Rise"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(140,86,75,1)","line":{"width":1.88976377952756,"color":"rgba(140,86,75,1)"}},"name":"Mid-Rise","legendgroup":"Mid-Rise","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[0.75,0.75],"base":[0,0],"x":[1,2],"y":[0.0114942528735632,0.0357142857142857],"text":["market: Past<br />percent: 0.01149425<br />style: Townhome<br />style: Townhome","market: Recent<br />percent: 0.03571429<br />style: Townhome<br />style: Townhome"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(227,119,194,1)","line":{"width":1.88976377952756,"color":"rgba(227,119,194,1)"}},"name":"Townhome","legendgroup":"Townhome","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}}],"layout":{"margin":{"t":25.2984640929846,"r":26.5670402656704,"b":39.5184723951847,"l":50.1452885014529},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["Past","Recent"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Past","Recent"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Market","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0,1],"tickmode":"array","ticktext":["0.0","0.2","0.4","0.6","0.8","1.0"],"tickvals":[0,0.2,0.4,0.6,0.8,1],"categoryorder":"array","categoryarray":["0.0","0.2","0.4","0.6","0.8","1.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(255,255,255,1)","borderwidth":1.88976377952756,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"title":{"text":"Style","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"modeBarButtonsToRemove":["zoom2d","pan2d","zoomIn2d","zoomOut2d","autoScale2d","resetScale2d","hoverClosestCartesian","hoverCompareCartesian","sendDataToCloud","toggleHover","resetViews","toggleSpikelines","resetViewMapbox","toggleSpikelines","resetViewMapbox","lasso2d","select2d"],"displaylogo":false},"source":"A","attrs":{"18b0b34686c":{"x":{},"y":{},"colour":{},"fill":{},"type":"bar"}},"cur_data":"18b0b34686c","visdat":{"18b0b34686c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
```

```{=html}
<div id="htmlwidget-54565e0ed07a1f0c5854" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-54565e0ed07a1f0c5854">{"x":{"data":[{"orientation":"v","width":[0.75,0.75],"base":[0.997376060741402,0.976293103448276],"x":[1,2],"y":[0.00262393925859761,0.0237068965517241],"text":["market: Past<br />percent: 0.002623939<br />bedrooms: units0<br />bedrooms: units0","market: Recent<br />percent: 0.023706897<br />bedrooms: units0<br />bedrooms: units0"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,1)","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"name":"units0","legendgroup":"units0","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[0.75,0.75],"base":[0.728673514962037,0.448429802955665],"x":[1,2],"y":[0.268702545779366,0.527863300492611],"text":["market: Past<br />percent: 0.268702546<br />bedrooms: units1<br />bedrooms: units1","market: Recent<br />percent: 0.527863300<br />bedrooms: units1<br />bedrooms: units1"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(188,189,34,1)","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"name":"units1","legendgroup":"units1","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[0.75,0.75],"base":[0.176753014738723,0.0868226600985222],"x":[1,2],"y":[0.551920500223314,0.361607142857143],"text":["market: Past<br />percent: 0.551920500<br />bedrooms: units2<br />bedrooms: units2","market: Recent<br />percent: 0.361607143<br />bedrooms: units2<br />bedrooms: units2"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(140,86,75,1)","line":{"width":1.88976377952756,"color":"rgba(140,86,75,1)"}},"name":"units2","legendgroup":"units2","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[0.75,0.75],"base":[0,0],"x":[1,2],"y":[0.176753014738723,0.0868226600985222],"text":["market: Past<br />percent: 0.176753015<br />bedrooms: units3<br />bedrooms: units3","market: Recent<br />percent: 0.086822660<br />bedrooms: units3<br />bedrooms: units3"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(227,119,194,1)","line":{"width":1.88976377952756,"color":"rgba(227,119,194,1)"}},"name":"units3","legendgroup":"units3","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}}],"layout":{"margin":{"t":25.2984640929846,"r":26.5670402656704,"b":39.5184723951847,"l":50.1452885014529},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.4,2.6],"tickmode":"array","ticktext":["Past","Recent"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["Past","Recent"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y","title":{"text":"Market","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0,1],"tickmode":"array","ticktext":["0.0","0.2","0.4","0.6","0.8","1.0"],"tickvals":[0,0.2,0.4,0.6,0.8,1],"categoryorder":"array","categoryarray":["0.0","0.2","0.4","0.6","0.8","1.0"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":{"text":"Percent","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(255,255,255,1)","borderwidth":1.88976377952756,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"title":{"text":"Bedrooms","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"modeBarButtonsToRemove":["zoom2d","pan2d","zoomIn2d","zoomOut2d","autoScale2d","resetScale2d","hoverClosestCartesian","hoverCompareCartesian","sendDataToCloud","toggleHover","resetViews","toggleSpikelines","resetViewMapbox","toggleSpikelines","resetViewMapbox","lasso2d","select2d"],"displaylogo":false},"source":"A","attrs":{"18b057017b6c":{"x":{},"y":{},"colour":{},"fill":{},"type":"bar"}},"cur_data":"18b057017b6c","visdat":{"18b057017b6c":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
```

```{=html}
<div id="htmlwidget-e0fd784bab278fd9f0dd" style="width:100%;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-e0fd784bab278fd9f0dd">{"x":{"data":[{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[2,4,0,3,14,9,6,7,6,6,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["count:  2<br />sf:  485.1379<br />market: Past<br />market: Past","count:  4<br />sf:  529.2414<br />market: Past<br />market: Past","count:  0<br />sf:  573.3448<br />market: Past<br />market: Past","count:  3<br />sf:  617.4483<br />market: Past<br />market: Past","count: 14<br />sf:  661.5517<br />market: Past<br />market: Past","count:  9<br />sf:  705.6552<br />market: Past<br />market: Past","count:  6<br />sf:  749.7586<br />market: Past<br />market: Past","count:  7<br />sf:  793.8621<br />market: Past<br />market: Past","count:  6<br />sf:  837.9655<br />market: Past<br />market: Past","count:  6<br />sf:  882.0690<br />market: Past<br />market: Past","count:  0<br />sf:  926.1724<br />market: Past<br />market: Past","count:  3<br />sf:  970.2759<br />market: Past<br />market: Past","count:  0<br />sf: 1014.3793<br />market: Past<br />market: Past","count:  0<br />sf: 1058.4828<br />market: Past<br />market: Past","count:  0<br />sf: 1102.5862<br />market: Past<br />market: Past","count:  0<br />sf: 1146.6897<br />market: Past<br />market: Past","count:  0<br />sf: 1190.7931<br />market: Past<br />market: Past","count:  0<br />sf: 1234.8966<br />market: Past<br />market: Past","count:  0<br />sf: 1279.0000<br />market: Past<br />market: Past","count:  0<br />sf: 1323.1034<br />market: Past<br />market: Past","count:  0<br />sf: 1367.2069<br />market: Past<br />market: Past","count:  0<br />sf: 1411.3103<br />market: Past<br />market: Past","count:  0<br />sf: 1455.4138<br />market: Past<br />market: Past","count:  0<br />sf: 1499.5172<br />market: Past<br />market: Past","count:  0<br />sf: 1543.6207<br />market: Past<br />market: Past","count:  0<br />sf: 1587.7241<br />market: Past<br />market: Past","count:  0<br />sf: 1631.8276<br />market: Past<br />market: Past","count:  0<br />sf: 1675.9310<br />market: Past<br />market: Past","count:  0<br />sf: 1720.0345<br />market: Past<br />market: Past","count:  0<br />sf: 1764.1379<br />market: Past<br />market: Past"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,0.502)","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"name":"Past","legendgroup":"Past","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["count:  1<br />sf:  485.1379<br />market: Past<br />market: Past","count:  1<br />sf:  529.2414<br />market: Past<br />market: Past","count:  1<br />sf:  573.3448<br />market: Past<br />market: Past","count:  0<br />sf:  617.4483<br />market: Past<br />market: Past","count:  0<br />sf:  661.5517<br />market: Past<br />market: Past","count:  0<br />sf:  705.6552<br />market: Past<br />market: Past","count:  0<br />sf:  749.7586<br />market: Past<br />market: Past","count:  0<br />sf:  793.8621<br />market: Past<br />market: Past","count:  0<br />sf:  837.9655<br />market: Past<br />market: Past","count:  0<br />sf:  882.0690<br />market: Past<br />market: Past","count:  0<br />sf:  926.1724<br />market: Past<br />market: Past","count:  0<br />sf:  970.2759<br />market: Past<br />market: Past","count:  0<br />sf: 1014.3793<br />market: Past<br />market: Past","count:  0<br />sf: 1058.4828<br />market: Past<br />market: Past","count:  0<br />sf: 1102.5862<br />market: Past<br />market: Past","count:  0<br />sf: 1146.6897<br />market: Past<br />market: Past","count:  0<br />sf: 1190.7931<br />market: Past<br />market: Past","count:  0<br />sf: 1234.8966<br />market: Past<br />market: Past","count:  0<br />sf: 1279.0000<br />market: Past<br />market: Past","count:  0<br />sf: 1323.1034<br />market: Past<br />market: Past","count:  0<br />sf: 1367.2069<br />market: Past<br />market: Past","count:  0<br />sf: 1411.3103<br />market: Past<br />market: Past","count:  0<br />sf: 1455.4138<br />market: Past<br />market: Past","count:  0<br />sf: 1499.5172<br />market: Past<br />market: Past","count:  0<br />sf: 1543.6207<br />market: Past<br />market: Past","count:  0<br />sf: 1587.7241<br />market: Past<br />market: Past","count:  0<br />sf: 1631.8276<br />market: Past<br />market: Past","count:  0<br />sf: 1675.9310<br />market: Past<br />market: Past","count:  0<br />sf: 1720.0345<br />market: Past<br />market: Past","count:  0<br />sf: 1764.1379<br />market: Past<br />market: Past"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,0.502)","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"name":"Past","legendgroup":"Past","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[0,0,0,0,0,0,0,0,0,0,1,1,2,2,7,8,6,4,6,6,3,4,3,2,1,0,0,0,0,0],"text":["count:  0<br />sf:  485.1379<br />market: Past<br />market: Past","count:  0<br />sf:  529.2414<br />market: Past<br />market: Past","count:  0<br />sf:  573.3448<br />market: Past<br />market: Past","count:  0<br />sf:  617.4483<br />market: Past<br />market: Past","count:  0<br />sf:  661.5517<br />market: Past<br />market: Past","count:  0<br />sf:  705.6552<br />market: Past<br />market: Past","count:  0<br />sf:  749.7586<br />market: Past<br />market: Past","count:  0<br />sf:  793.8621<br />market: Past<br />market: Past","count:  0<br />sf:  837.9655<br />market: Past<br />market: Past","count:  0<br />sf:  882.0690<br />market: Past<br />market: Past","count:  1<br />sf:  926.1724<br />market: Past<br />market: Past","count:  1<br />sf:  970.2759<br />market: Past<br />market: Past","count:  2<br />sf: 1014.3793<br />market: Past<br />market: Past","count:  2<br />sf: 1058.4828<br />market: Past<br />market: Past","count:  7<br />sf: 1102.5862<br />market: Past<br />market: Past","count:  8<br />sf: 1146.6897<br />market: Past<br />market: Past","count:  6<br />sf: 1190.7931<br />market: Past<br />market: Past","count:  4<br />sf: 1234.8966<br />market: Past<br />market: Past","count:  6<br />sf: 1279.0000<br />market: Past<br />market: Past","count:  6<br />sf: 1323.1034<br />market: Past<br />market: Past","count:  3<br />sf: 1367.2069<br />market: Past<br />market: Past","count:  4<br />sf: 1411.3103<br />market: Past<br />market: Past","count:  3<br />sf: 1455.4138<br />market: Past<br />market: Past","count:  2<br />sf: 1499.5172<br />market: Past<br />market: Past","count:  1<br />sf: 1543.6207<br />market: Past<br />market: Past","count:  0<br />sf: 1587.7241<br />market: Past<br />market: Past","count:  0<br />sf: 1631.8276<br />market: Past<br />market: Past","count:  0<br />sf: 1675.9310<br />market: Past<br />market: Past","count:  0<br />sf: 1720.0345<br />market: Past<br />market: Past","count:  0<br />sf: 1764.1379<br />market: Past<br />market: Past"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,0.502)","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"name":"Past","legendgroup":"Past","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[0,0,0,0,0,1,2,4,2,10,8,15,10,7,7,3,2,4,0,0,0,1,0,0,0,0,0,0,0,0],"text":["count:  0<br />sf:  485.1379<br />market: Past<br />market: Past","count:  0<br />sf:  529.2414<br />market: Past<br />market: Past","count:  0<br />sf:  573.3448<br />market: Past<br />market: Past","count:  0<br />sf:  617.4483<br />market: Past<br />market: Past","count:  0<br />sf:  661.5517<br />market: Past<br />market: Past","count:  1<br />sf:  705.6552<br />market: Past<br />market: Past","count:  2<br />sf:  749.7586<br />market: Past<br />market: Past","count:  4<br />sf:  793.8621<br />market: Past<br />market: Past","count:  2<br />sf:  837.9655<br />market: Past<br />market: Past","count: 10<br />sf:  882.0690<br />market: Past<br />market: Past","count:  8<br />sf:  926.1724<br />market: Past<br />market: Past","count: 15<br />sf:  970.2759<br />market: Past<br />market: Past","count: 10<br />sf: 1014.3793<br />market: Past<br />market: Past","count:  7<br />sf: 1058.4828<br />market: Past<br />market: Past","count:  7<br />sf: 1102.5862<br />market: Past<br />market: Past","count:  3<br />sf: 1146.6897<br />market: Past<br />market: Past","count:  2<br />sf: 1190.7931<br />market: Past<br />market: Past","count:  4<br />sf: 1234.8966<br />market: Past<br />market: Past","count:  0<br />sf: 1279.0000<br />market: Past<br />market: Past","count:  0<br />sf: 1323.1034<br />market: Past<br />market: Past","count:  0<br />sf: 1367.2069<br />market: Past<br />market: Past","count:  1<br />sf: 1411.3103<br />market: Past<br />market: Past","count:  0<br />sf: 1455.4138<br />market: Past<br />market: Past","count:  0<br />sf: 1499.5172<br />market: Past<br />market: Past","count:  0<br />sf: 1543.6207<br />market: Past<br />market: Past","count:  0<br />sf: 1587.7241<br />market: Past<br />market: Past","count:  0<br />sf: 1631.8276<br />market: Past<br />market: Past","count:  0<br />sf: 1675.9310<br />market: Past<br />market: Past","count:  0<br />sf: 1720.0345<br />market: Past<br />market: Past","count:  0<br />sf: 1764.1379<br />market: Past<br />market: Past"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(23,190,207,0.502)","line":{"width":1.88976377952756,"color":"rgba(23,190,207,1)"}},"name":"Past","legendgroup":"Past","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[0,1,0,3,2,3,5,4,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["count:  0<br />sf:  485.1379<br />market: Recent<br />market: Recent","count:  1<br />sf:  529.2414<br />market: Recent<br />market: Recent","count:  0<br />sf:  573.3448<br />market: Recent<br />market: Recent","count:  3<br />sf:  617.4483<br />market: Recent<br />market: Recent","count:  2<br />sf:  661.5517<br />market: Recent<br />market: Recent","count:  3<br />sf:  705.6552<br />market: Recent<br />market: Recent","count:  5<br />sf:  749.7586<br />market: Recent<br />market: Recent","count:  4<br />sf:  793.8621<br />market: Recent<br />market: Recent","count:  2<br />sf:  837.9655<br />market: Recent<br />market: Recent","count:  1<br />sf:  882.0690<br />market: Recent<br />market: Recent","count:  0<br />sf:  926.1724<br />market: Recent<br />market: Recent","count:  0<br />sf:  970.2759<br />market: Recent<br />market: Recent","count:  0<br />sf: 1014.3793<br />market: Recent<br />market: Recent","count:  0<br />sf: 1058.4828<br />market: Recent<br />market: Recent","count:  0<br />sf: 1102.5862<br />market: Recent<br />market: Recent","count:  0<br />sf: 1146.6897<br />market: Recent<br />market: Recent","count:  0<br />sf: 1190.7931<br />market: Recent<br />market: Recent","count:  0<br />sf: 1234.8966<br />market: Recent<br />market: Recent","count:  0<br />sf: 1279.0000<br />market: Recent<br />market: Recent","count:  0<br />sf: 1323.1034<br />market: Recent<br />market: Recent","count:  0<br />sf: 1367.2069<br />market: Recent<br />market: Recent","count:  0<br />sf: 1411.3103<br />market: Recent<br />market: Recent","count:  0<br />sf: 1455.4138<br />market: Recent<br />market: Recent","count:  0<br />sf: 1499.5172<br />market: Recent<br />market: Recent","count:  0<br />sf: 1543.6207<br />market: Recent<br />market: Recent","count:  0<br />sf: 1587.7241<br />market: Recent<br />market: Recent","count:  0<br />sf: 1631.8276<br />market: Recent<br />market: Recent","count:  0<br />sf: 1675.9310<br />market: Recent<br />market: Recent","count:  0<br />sf: 1720.0345<br />market: Recent<br />market: Recent","count:  0<br />sf: 1764.1379<br />market: Recent<br />market: Recent"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(188,189,34,0.502)","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"name":"Recent","legendgroup":"Recent","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"text":["count:  0<br />sf:  485.1379<br />market: Recent<br />market: Recent","count:  0<br />sf:  529.2414<br />market: Recent<br />market: Recent","count:  0<br />sf:  573.3448<br />market: Recent<br />market: Recent","count:  0<br />sf:  617.4483<br />market: Recent<br />market: Recent","count:  2<br />sf:  661.5517<br />market: Recent<br />market: Recent","count:  0<br />sf:  705.6552<br />market: Recent<br />market: Recent","count:  0<br />sf:  749.7586<br />market: Recent<br />market: Recent","count:  0<br />sf:  793.8621<br />market: Recent<br />market: Recent","count:  0<br />sf:  837.9655<br />market: Recent<br />market: Recent","count:  0<br />sf:  882.0690<br />market: Recent<br />market: Recent","count:  0<br />sf:  926.1724<br />market: Recent<br />market: Recent","count:  0<br />sf:  970.2759<br />market: Recent<br />market: Recent","count:  0<br />sf: 1014.3793<br />market: Recent<br />market: Recent","count:  0<br />sf: 1058.4828<br />market: Recent<br />market: Recent","count:  0<br />sf: 1102.5862<br />market: Recent<br />market: Recent","count:  0<br />sf: 1146.6897<br />market: Recent<br />market: Recent","count:  0<br />sf: 1190.7931<br />market: Recent<br />market: Recent","count:  0<br />sf: 1234.8966<br />market: Recent<br />market: Recent","count:  0<br />sf: 1279.0000<br />market: Recent<br />market: Recent","count:  0<br />sf: 1323.1034<br />market: Recent<br />market: Recent","count:  0<br />sf: 1367.2069<br />market: Recent<br />market: Recent","count:  0<br />sf: 1411.3103<br />market: Recent<br />market: Recent","count:  0<br />sf: 1455.4138<br />market: Recent<br />market: Recent","count:  0<br />sf: 1499.5172<br />market: Recent<br />market: Recent","count:  0<br />sf: 1543.6207<br />market: Recent<br />market: Recent","count:  0<br />sf: 1587.7241<br />market: Recent<br />market: Recent","count:  0<br />sf: 1631.8276<br />market: Recent<br />market: Recent","count:  0<br />sf: 1675.9310<br />market: Recent<br />market: Recent","count:  0<br />sf: 1720.0345<br />market: Recent<br />market: Recent","count:  0<br />sf: 1764.1379<br />market: Recent<br />market: Recent"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(188,189,34,0.502)","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"name":"Recent","legendgroup":"Recent","showlegend":false,"xaxis":"x2","yaxis":"y","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,1,1,2,2,0,2,0,0,0,0,0,1],"text":["count:  0<br />sf:  485.1379<br />market: Recent<br />market: Recent","count:  0<br />sf:  529.2414<br />market: Recent<br />market: Recent","count:  0<br />sf:  573.3448<br />market: Recent<br />market: Recent","count:  0<br />sf:  617.4483<br />market: Recent<br />market: Recent","count:  0<br />sf:  661.5517<br />market: Recent<br />market: Recent","count:  0<br />sf:  705.6552<br />market: Recent<br />market: Recent","count:  0<br />sf:  749.7586<br />market: Recent<br />market: Recent","count:  0<br />sf:  793.8621<br />market: Recent<br />market: Recent","count:  0<br />sf:  837.9655<br />market: Recent<br />market: Recent","count:  0<br />sf:  882.0690<br />market: Recent<br />market: Recent","count:  0<br />sf:  926.1724<br />market: Recent<br />market: Recent","count:  0<br />sf:  970.2759<br />market: Recent<br />market: Recent","count:  0<br />sf: 1014.3793<br />market: Recent<br />market: Recent","count:  0<br />sf: 1058.4828<br />market: Recent<br />market: Recent","count:  0<br />sf: 1102.5862<br />market: Recent<br />market: Recent","count:  0<br />sf: 1146.6897<br />market: Recent<br />market: Recent","count:  0<br />sf: 1190.7931<br />market: Recent<br />market: Recent","count:  2<br />sf: 1234.8966<br />market: Recent<br />market: Recent","count:  1<br />sf: 1279.0000<br />market: Recent<br />market: Recent","count:  1<br />sf: 1323.1034<br />market: Recent<br />market: Recent","count:  2<br />sf: 1367.2069<br />market: Recent<br />market: Recent","count:  2<br />sf: 1411.3103<br />market: Recent<br />market: Recent","count:  0<br />sf: 1455.4138<br />market: Recent<br />market: Recent","count:  2<br />sf: 1499.5172<br />market: Recent<br />market: Recent","count:  0<br />sf: 1543.6207<br />market: Recent<br />market: Recent","count:  0<br />sf: 1587.7241<br />market: Recent<br />market: Recent","count:  0<br />sf: 1631.8276<br />market: Recent<br />market: Recent","count:  0<br />sf: 1675.9310<br />market: Recent<br />market: Recent","count:  0<br />sf: 1720.0345<br />market: Recent<br />market: Recent","count:  1<br />sf: 1764.1379<br />market: Recent<br />market: Recent"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(188,189,34,0.502)","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"name":"Recent","legendgroup":"Recent","showlegend":false,"xaxis":"x","yaxis":"y2","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}},{"orientation":"v","width":[44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758621,44.1034482758621,44.1034482758619,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758619,44.1034482758623,44.1034482758619,44.1034482758623],"base":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"x":[485.137931034483,529.241379310345,573.344827586207,617.448275862069,661.551724137931,705.655172413793,749.758620689655,793.862068965517,837.965517241379,882.068965517241,926.172413793103,970.275862068966,1014.37931034483,1058.48275862069,1102.58620689655,1146.68965517241,1190.79310344828,1234.89655172414,1279,1323.10344827586,1367.20689655172,1411.31034482759,1455.41379310345,1499.51724137931,1543.62068965517,1587.72413793103,1631.8275862069,1675.93103448276,1720.03448275862,1764.13793103448],"y":[0,0,0,0,0,0,0,2,0,0,2,0,1,4,3,3,2,0,1,0,0,0,0,0,0,0,0,0,0,0],"text":["count:  0<br />sf:  485.1379<br />market: Recent<br />market: Recent","count:  0<br />sf:  529.2414<br />market: Recent<br />market: Recent","count:  0<br />sf:  573.3448<br />market: Recent<br />market: Recent","count:  0<br />sf:  617.4483<br />market: Recent<br />market: Recent","count:  0<br />sf:  661.5517<br />market: Recent<br />market: Recent","count:  0<br />sf:  705.6552<br />market: Recent<br />market: Recent","count:  0<br />sf:  749.7586<br />market: Recent<br />market: Recent","count:  2<br />sf:  793.8621<br />market: Recent<br />market: Recent","count:  0<br />sf:  837.9655<br />market: Recent<br />market: Recent","count:  0<br />sf:  882.0690<br />market: Recent<br />market: Recent","count:  2<br />sf:  926.1724<br />market: Recent<br />market: Recent","count:  0<br />sf:  970.2759<br />market: Recent<br />market: Recent","count:  1<br />sf: 1014.3793<br />market: Recent<br />market: Recent","count:  4<br />sf: 1058.4828<br />market: Recent<br />market: Recent","count:  3<br />sf: 1102.5862<br />market: Recent<br />market: Recent","count:  3<br />sf: 1146.6897<br />market: Recent<br />market: Recent","count:  2<br />sf: 1190.7931<br />market: Recent<br />market: Recent","count:  0<br />sf: 1234.8966<br />market: Recent<br />market: Recent","count:  1<br />sf: 1279.0000<br />market: Recent<br />market: Recent","count:  0<br />sf: 1323.1034<br />market: Recent<br />market: Recent","count:  0<br />sf: 1367.2069<br />market: Recent<br />market: Recent","count:  0<br />sf: 1411.3103<br />market: Recent<br />market: Recent","count:  0<br />sf: 1455.4138<br />market: Recent<br />market: Recent","count:  0<br />sf: 1499.5172<br />market: Recent<br />market: Recent","count:  0<br />sf: 1543.6207<br />market: Recent<br />market: Recent","count:  0<br />sf: 1587.7241<br />market: Recent<br />market: Recent","count:  0<br />sf: 1631.8276<br />market: Recent<br />market: Recent","count:  0<br />sf: 1675.9310<br />market: Recent<br />market: Recent","count:  0<br />sf: 1720.0345<br />market: Recent<br />market: Recent","count:  0<br />sf: 1764.1379<br />market: Recent<br />market: Recent"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(188,189,34,0.502)","line":{"width":1.88976377952756,"color":"rgba(188,189,34,1)"}},"name":"Recent","legendgroup":"Recent","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null,"hoverlabel":{"align":"left"}}],"layout":{"margin":{"t":38.5819842258198,"r":26.5670402656704,"b":39.5184723951847,"l":43.5035284350353},"plot_bgcolor":"rgba(255,255,255,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xaxis":{"domain":[0,0.473214285714286],"automargin":true,"type":"linear","autorange":false,"range":[463.086206896552,1786.18965517241],"tickmode":"array","ticktext":["500","1,000","1,500"],"tickvals":[500,1000,1500],"categoryorder":"array","categoryarray":["500","1,000","1,500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"annotations":[{"text":"Sf","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-29.5808013183644},{"text":"Count","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-32.8767123287671},{"text":"One bedroom","x":0.236607142857143,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Studio","x":0.763392857142857,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Three bedroom","x":0.236607142857143,"y":0.452122249896223,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"Two bedroom","x":0.763392857142857,"y":0.452122249896223,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.547877750103777,1],"automargin":true,"type":"linear","autorange":false,"range":[0,15],"tickmode":"array","ticktext":["0","5","10","15"],"tickvals":[0,5,10,15],"categoryorder":"array","categoryarray":["0","5","10","15"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":true,"gridcolor":"rgba(211,211,211,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.473214285714286,"y0":0.547877750103777,"y1":1},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(255,255,255,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.473214285714286,"y0":0,"y1":19.9252801992528,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.526785714285714,"x1":1,"y0":0.547877750103777,"y1":1},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(255,255,255,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.526785714285714,"x1":1,"y0":0,"y1":19.9252801992528,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.473214285714286,"y0":0,"y1":0.452122249896223},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(255,255,255,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.473214285714286,"y0":0,"y1":19.9252801992528,"yanchor":0.452122249896223,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.526785714285714,"x1":1,"y0":0,"y1":0.452122249896223},{"type":"rect","fillcolor":"rgba(255,255,255,1)","line":{"color":"rgba(255,255,255,1)","width":0.66417600664176,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.526785714285714,"x1":1,"y0":0,"y1":19.9252801992528,"yanchor":0.452122249896223,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[463.086206896552,1786.18965517241],"tickmode":"array","ticktext":["500","1,000","1,500"],"tickvals":[500,1000,1500],"categoryorder":"array","categoryarray":["500","1,000","1,500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":false,"domain":[0.526785714285714,1],"gridcolor":null,"gridwidth":0,"zeroline":false,"anchor":"y2","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[0,15],"tickmode":"array","ticktext":["0","5","10","15"],"tickvals":[0,5,10,15],"categoryorder":"array","categoryarray":["0","5","10","15"],"nticks":null,"ticks":"outside","tickcolor":"rgba(50,50,50,1)","ticklen":3.65296803652968,"tickwidth":0.398505603985056,"showticklabels":true,"tickfont":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"tickangle":-0,"showline":true,"linecolor":"rgba(50,50,50,1)","linewidth":0.398505603985056,"showgrid":true,"domain":[0,0.452122249896223],"gridcolor":"rgba(211,211,211,1)","gridwidth":0.265670402656704,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"rgba(255,255,255,1)","borderwidth":1.88976377952756,"font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352},"title":{"text":"Market","font":{"color":"rgba(50,50,50,1)","family":"","size":13.2835201328352}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false,"modeBarButtonsToRemove":["zoom2d","pan2d","zoomIn2d","zoomOut2d","autoScale2d","resetScale2d","hoverClosestCartesian","hoverCompareCartesian","sendDataToCloud","toggleHover","resetViews","toggleSpikelines","resetViewMapbox","toggleSpikelines","resetViewMapbox","lasso2d","select2d"],"displaylogo":false},"source":"A","attrs":{"18b057ed6867":{"x":{},"colour":{},"fill":{},"type":"bar"}},"cur_data":"18b057ed6867","visdat":{"18b057ed6867":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
```

- BAR CHART: PERCENT OF UNITS BY STYLE (COLORED OR FACETED BY RECENT/EXISTING)
- BAR CHART: PERCENT OF TOTAL UNITS BY BEDROOM (COLORED OR FACETED BY RECENT/EXISTING)
- BAR CHART: AVERAGE SIZE (SQFT) OF UNITS BY BEDROOM (COLORED OR FACETED BY RECENT/EXISTING) 
- 

## Amenities

Compare presence of common amenities:
- "Clubhouse"
- "Property Manager on Site"
- "Pool"
- "Fitness Center"



- BAR CHART: PERCENT OF UNITS BY PRESENCE OF AMENITY (COLORED OR FACETED BY RECENT/EXISTING)

## Location

Copy / re-state what is already done in 2a-2?

Describe locations/neighborhoods where newer development is most common



- MAP OF RECENT DEVELOPMENTS (COLORED BY EXISTING, UNDER CONSTRUCTION, AND PROPOSED)
- BAR CHART: PERCENT OF UNITS BY MAGISTERIAL DISTRICT (COLORED OR FACETED BY RECENT/EXISTING)

### Proximity to public transportation


```

library(tidyverse)
library(sf)
library(mapview)
library(crsuggest)
library(tigris)
options(tigris_use_cache = TRUE)

costar <- read_csv("data/costar_market_recent.csv")
noah <- read_csv("data/chesterfield_noah_coded.csv")
nhpd <- read_csv("data/nhpd_chesterfield.csv")

# Let's take the CoStar properties as an example; the same workflow
# will apply for the other properties as well.  
# First, we convert to a spatial object: 
costar_sf <- costar %>%
  st_as_sf(coords = c("Longitude", "Latitude"), 
           crs = 4326)

# Map the properties:
mapview(costar_sf)

# Identify an appropriate coordinate reference system:
va_crs <- suggest_top_crs(costar_sf, units = "m",
                          inherit_gcs = FALSE)

# We'll use the Virginia South state plane CRS (6594)
costar_prj <- st_transform(costar_sf, va_crs)

# Grab VA Census tracts and identify those that overlap the properties:
chesterfield_tracts <- tracts("VA", "Chesterfield", year = 2021) %>%
  st_transform(va_crs)

costar_tracts <- st_filter(chesterfield_tracts, costar_prj)

# Options for computing proximity include: 
# - "As the crow flies" straight-line distances, which are handled in sf;
# - Network distances / travel-times, which are easiest to compute using
# - my mapboxapi R package.

# Transportation data (GRTC stops):
stops <- st_read("data/grtc/Stops_May2022.shp") %>%
  st_transform(va_crs)

# Take a quick look:
mapview(stops)

# We can use st_distance() to compute the distance between properties and stops,
# then find the minimum distance to determine the nearest stop
costar_to_stops <- st_distance(costar_prj, stops)

costar_stop_distance <- apply(costar_to_stops, 1, min) %>%
  magrittr::divide_by(1609.34)

# Alternatively, we can compute a 0.5 mile buffer around properties
# and either count up bus stops or identify whether a bus stop is 
# accessible
costar_buffer <- st_buffer(costar_prj, 804.67)

mapview(costar_buffer)

# Travel-times are another way to look at this.  We'll use my mapboxapi R package
# to calculate network buffers (also called "isodistances"), travel-time matrices,
# and also travel-time isochrones.
#
# I'm working on a couple updates to the package so we'll need the 
# development version from GitHub:
# remotes::install_github("walkerke/mapboxapi")
library(mapboxapi)

# You'll need a Mapbox account + an access token to use its services.
# Head over to https://account.mapbox.com/ and sign up for the service, then 
# grab your default access token.  Set it in R as follows, and install it 
# if you'd like: 
mb_access_token(MAPBOX_PUBLIC_TOKEN)

# You'll now be able to compute network buffers and distance/travel-times
# based on a road network and typical traffic (or a given travel mode).
costar_network_buffer <- mb_isochrone(costar_prj, profile = "walking",
                                      distance = 805)

mapview(costar_network_buffer)
# Note how different the 0.5 mile network buffers are from the straight-line buffers. 

# To get the shortest walking distance, we can compute a travel-distance matrix
# Due to internal limitations of the Mapbox matrix API, the volume of stops, and the increased complexity of building network-based matrices
# this will be slow to get the dense matrix.  This took me a few minutes to compute.  
# costar_stop_walking <- costar_prj %>%
#   mutate(chunk = ntile(n = 2)) %>%
#   split(~chunk) %>%
#   map(~{
#     mb_matrix(origins = .x,
#               destinations = stops,
#               profile = "walking",
#               output = "distance")
#   }) %>%
#   reduce(rbind) %>%
#   apply(1, min) %>%
#   magrittr::divide_by(1609.34)

# A (much!) faster way to handle this is be to iterate through the apartments, find the nearest n stops by straight-line distance, then calculate the network distance to them.  That would look like this for the nearest 20 stops:
library(nngeo)

nearest_stops <- st_nn(costar_prj, stops, k = 20)

costar_stop_walking <- imap(nearest_stops, ~{
  # Get the specific property (the list index)
  property <- costar_prj[.y,]
  
  # Get the nearby stops (the indices in the list element)
  nearby_stops <- stops[.x, ]
  
  # Calculate the matrix
  mb_matrix(origins = property,
            destinations = nearby_stops,
            profile = "walking",
            output = "distance")
}) %>%
  reduce(rbind) %>%
  apply(1, min) %>%
  magrittr::divide_by(1609.34)

# Interestingly, the walking distances are reasonably different from the straight-line distances,
# and sometimes far exceed them.  

# From here, you can readily append both the minimum walking distance to 
# a transit stop to the CoStar data, then determine which properties are 
# within 0.5 miles of a transit stop
costar <- costar %>%
  mutate(
    walk_to_transit = costar_stop_walking,
    transit_nearby = ifelse(walk_to_transit <= 0.5, 1, 0)
  )


# Once this workflow is settled, you can reasonably reproduce it for the other datasets.  
schools <- st_read("https://services3.arcgis.com/TsynfzBSE6sXfoLq/ArcGIS/rest/services/Administrative/FeatureServer/15/query?outFields=*&where=1%3D1&f=geojson") %>%
  st_transform(va_crs)

nearest_schools <- st_nn(costar_prj, schools, k = 20)

costar_school_driving <- imap(nearest_schools, ~{
  # Get the specific property (the list index)
  property <- costar_prj[.y,]
  
  # Get the nearby schools (the indices in the list element)
  nearby_schools <- schools[.x, ]
  
  # Calculate the matrix (drive-times here instead)
  # Minutes are returned by default
  # There is also a "driving-traffic" profile but unfortunately 
  # the Matrix API doesn't allow you to specify a time of day, so it 
  # gives you a mix of historical and live traffic instead.
  mb_matrix(origins = property,
            destinations = nearby_schools,
            profile = "driving",
            output = "duration")
}) %>%
  reduce(rbind) %>%
  apply(1, min) 

# Grocery stores: 
# We'll use SNAP retailers from the USDA as a proxy here
# This is not perfect so some filtering may be necessary
# as it picks up on convenience stores as well
snap <- read_csv("https://opendata.arcgis.com/datasets/e9cc76a48ccb45628181ece7b2deb56d_0.csv") %>%
  filter(State == "VA") %>%
  st_as_sf(coords = c("X", "Y"), crs = 4326) %>%
  st_transform(va_crs)

nearest_snap <- st_nn(costar_prj, snap, k = 20)


costar_snap_walking <- imap(nearest_snap, ~{
  # Get the specific property (the list index)
  property <- costar_prj[.y,]
  
  # Get the nearby stops (the indices in the list element)
  nearby_snap <- snap[.x, ]
  
  # Calculate the matrix
  mb_matrix(origins = property,
            destinations = nearby_snap,
            profile = "walking",
            output = "distance")
}) %>%
  reduce(rbind) %>%
  apply(1, min) %>%
  magrittr::divide_by(1609.34)

# Hospital / urgent care
# I'm not filtering by type but you might consider doing so
# There are some other datasets in HIFLD on care centers that may 
# be relevant as well.
hospitals <- st_read("https://services1.arcgis.com/Hp6G80Pky0om7QvQ/arcgis/rest/services/Hospitals_1/FeatureServer/0/query?outFields=*&where=1%3D1&f=geojson") %>%
  filter(STATE == "VA") %>%
  st_transform(va_crs)

nearest_hospitals <- st_nn(costar_prj, hospitals, k = 20)

costar_hospital_driving <- imap(nearest_hospitals, ~{
  # Get the specific property (the list index)
  property <- costar_prj[.y,]
  
  # Get the nearby hospitals (the indices in the list element)
  nearby_hospitals <- hospitals[.x, ]
  
  # Calculate the matrix (drive-times here instead)
  # Minutes are returned by default
  mb_matrix(origins = property,
            destinations = nearby_hospitals,
            profile = "driving",
            output = "duration")
}) %>%
  reduce(rbind) %>%
  apply(1, min) 

# Jobs are pending in the Google Doc (though I can show you how to 
# create jobs clusters with LODES data)

# Finally, we can put all the data back together with minimum travel times
# and critical distance / duration flags.
costar_output <- costar %>%
  mutate(
    miles_to_transit = costar_stop_walking,
    transit_nearby = ifelse(miles_to_transit <= 0.5, 1, 0),
    minutes_to_school = costar_school_driving,
    school_nearby = ifelse(minutes_to_school <= 30, 1, 0),
    miles_to_snap = costar_snap_walking,
    snap_nearby = ifelse(miles_to_snap <= 0.5, 1, 0),
    minutes_to_hospital = costar_hospital_driving,
    hospital_nearby = ifelse(minutes_to_hospital <= 15, 1, 0)
  )


```

Compare location of new multifamily development versus older multifamily relative to access to public transportation

- Within or outside of 1/2 mile buffer from GRTC stop

### Proximity to schools

Compare location of new multifamily development versus older multifamily relative to access to public schools

- Within or outside of 30 minute drive time

### Proximity to grocery stores

Compare location of new multifamily development versus older multifamily relative to access to grocery stores

- Within or outside of 1/2 mile buffer from grocery store

### Proximity to healthcare

Compare location of new multifamily development versus older multifamily relative to access to hospitals and urgent care facilities

- Within or outside of 15 minute drive time

### Proximity to job centers

TBD, waiting for feedback from county staff
